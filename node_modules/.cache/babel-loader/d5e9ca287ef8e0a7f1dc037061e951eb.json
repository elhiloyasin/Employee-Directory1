{"ast":null,"code":"import _toConsumableArray from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yassinelhilo/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SearchForm from\"./SearchForm\";import EmployeeCard from\"./EmployeeCard\";import API from\"../utils/API\";import\"../styles/style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResultContainer=/*#__PURE__*/function(_Component){_inherits(SearchResultContainer,_Component);var _super=_createSuper(SearchResultContainer);function SearchResultContainer(){var _this;_classCallCheck(this,SearchResultContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={result:[],filter:\"\",currentSort:\"default\",sortField:\"\",filterBy:\"lastName\"};_this.filterEmployees=function(searchKey){console.log(_this.state.result);var filterResult=_this.state.result.filter(function(person){return person.firstName===searchKey;});_this.setState({result:filterResult});};_this.handleFormSubmit=function(event){event.preventDefault();var name=event.target.name;var value=event.target.value;_this.filterEmployees(value);_this.setState(_defineProperty({},name,value));_this.filterEmployees(value);_this.filterEmployees(_this.state.search);};_this.handleInputChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(SearchResultContainer,[{key:\"componentDidMount\",value:// When this component mounts, search the Giphy API for pictures of kittens\nfunction componentDidMount(){var _this2=this;API.search().then(function(res){console.log(res);_this2.setState({result:res.data.results.map(function(e,i){return{firstName:e.name.first,lastName:e.name.last,picture:e.picture.large,email:e.email,phone:e.phone,dob:e.dob.age,key:i};})});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Employee Directory\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(SearchForm,{value:this.state.search,handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Age\"})]}),_toConsumableArray(this.state.result).map(function(item){return/*#__PURE__*/_jsx(EmployeeCard,{picture:item.picture,firstName:item.firstName,lastName:item.lastName,email:item.email,phone:item.phone,dob:item.dob},item.key);})]})})]});}}]);return SearchResultContainer;}(Component);export default SearchResultContainer;","map":{"version":3,"sources":["/Users/yassinelhilo/Desktop/Employee-Directory/src/components/SearchResultContainer.js"],"names":["React","Component","SearchForm","EmployeeCard","API","SearchResultContainer","state","result","filter","currentSort","sortField","filterBy","filterEmployees","searchKey","console","log","filterResult","person","firstName","setState","handleFormSubmit","event","preventDefault","name","target","value","search","handleInputChange","then","res","data","results","map","e","i","first","lastName","last","picture","large","email","phone","dob","age","key","catch","err","item"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport EmployeeCard from \"./EmployeeCard\";\nimport API from \"../utils/API\";\nimport  \"../styles/style.css\"\n\nclass SearchResultContainer extends Component {\n  state = {\n    result: [],\n    filter: \"\",\n    currentSort: \"default\",\n    sortField: \"\",\n    filterBy: \"lastName\"\n   \n  };\n\n  // When this component mounts, search the Giphy API for pictures of kittens\n  componentDidMount() {\n    API.search()\n      .then(res => {\n        console.log(res)\n        this.setState({\n          result: res.data.results.map((e, i) => ({\n            firstName: e.name.first,\n            lastName: e.name.last,\n            picture: e.picture.large,\n            email: e.email,\n            phone: e.phone,\n            dob: e.dob.age,\n            key: i\n          }))\n\n        })\n     \n      })\n      .catch(err => console.log(err));\n  }\n\n filterEmployees = (searchKey) =>{\n\n   console.log(this.state.result);\n\n   var filterResult = this.state.result.filter(person=> person.firstName === searchKey)\n\n   this.setState({result:filterResult})\n }\n\n \n\n  // When the form is submitted, search the Giphy API for `this.state.search`\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const name = event.target.name;\n    const value = event.target.value;\n    this.filterEmployees(value);\n    this.setState({\n      [name]: value\n    });\n    this.filterEmployees(value);\n    this.filterEmployees(this.state.search);\n  };\n\n  handleInputChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  };\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <h2>Employee Directory</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <SearchForm\n              value={this.state.search}\n              handleFormSubmit={this.handleFormSubmit}\n              handleInputChange={this.handleInputChange}\n            />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          \n          <table className=\"table\">\n            <tr>\n              <th scope=\"col\">Photo</th>\n              <th>First Name</th>\n              <th scope=\"col\">Last Name </th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Phone</th>\n              <th scope=\"col\">Age</th>\n            </tr>\n            {[...this.state.result].map((item) =>\n              <EmployeeCard\n                picture={item.picture}\n                firstName={item.firstName}\n                lastName={item.lastName}\n                email={item.email}\n                phone={item.phone}\n                dob={item.dob}\n                key={item.key}\n              />\n            )}\n\n          </table>\n        </div>\n\n\n      </div>\n    );\n  }\n}\n\nexport default SearchResultContainer;\n\n\n"]},"metadata":{},"sourceType":"module"}